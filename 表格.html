<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>动态表格</title>

    <style>
        table {
            border: 1px solid;
            margin: auto;
            width: 500px;
        }

        td, th {
            text-align: center;
            border: 1px solid;
        }

        div {
            text-align: center;
            margin: 50px;
        }

        .over {
            background-color: darkgrey;
        }

        .out {
            background-color: white;
        }

    </style>

    <script>
        window.onload = function () {
            /**
             * 全选：
             *  获取所有 CheckBox 设置选中
             */
            document.getElementById("selectAll").onclick = function () {
                var checkboxes = document.getElementsByName("checkbox");
                for (var i = 0; i < checkboxes.length; i++) {
                    checkboxes[i].checked = true;
                }
            }
            // 全不选
            document.getElementById("selectNone").onclick = function () {
                var checkboxes = document.getElementsByName("checkbox");
                for (var i = 0; i < checkboxes.length; i++) {
                    checkboxes[i].checked = false;
                }
            }
            // 反选
            document.getElementById("selectReverse").onclick = function () {
                var checkboxes = document.getElementsByName("checkbox");
                for (var i = 0; i < checkboxes.length; i++) {
                    checkboxes[i].checked = !checkboxes[i].checked;
                }
            }
            // 第一行多选框
            document.getElementById("first").onclick =  function () {
                var checkboxes = document.getElementsByName("checkbox");
                for (var i = 0; i < checkboxes.length; i++) {
                    checkboxes[i].checked = this.checked;
                }
            }

            // 鼠标悬浮事件
            var trs = document.getElementsByTagName("tr");
            for (var i = 0; i < trs.length; i++) {
                // 悬浮
                trs[i].onmouseover = function () {
                    this.className = "over";
                }
                // 移出
                trs[i].onmouseout = function () {
                    this.className = "out";
                }
            }
        }
    </script>

</head>
<body>

    <div>
        <input type="text" id="id" placeholder="请输入编号">
        <input type="text" id="name" placeholder="请输入姓名">
        <input type="text" id="gender" placeholder="请输入性别">
        <input type="button" value="添加" id="btn_add">
    </div>


    <table>
        <caption> 学生信息表 </caption>
        <tr>
            <th><input type="checkbox" name="checkbox" id="first"></th>
            <th>编号</th>
            <th>姓名</th>
            <th>性别</th>
            <th>操作</th>
        </tr>

        <tr>
            <td><input type="checkbox" name='checkbox'></td>
            <td>1</td>
            <td>郑俊锃</td>
            <td>男</td>
            <td><a href="javascript:void(0);" onclick="delTr(this)">删除</a></td>
        </tr>

        <tr>
            <td><input type="checkbox" name='checkbox'></td>
            <td>2</td>
            <td>叶睿钊</td>
            <td>男</td>
            <td><a href="javascript:void(0);" onclick="delTr(this)">删除</a></td>
        </tr>

        <tr>
            <td><input type="checkbox" name='checkbox'></td>
            <td>3</td>
            <td>陈登茁</td>
            <td>男</td>
            <td><a href="javascript:void(0);" onclick="delTr(this)">删除</a></td>
        </tr>

    </table>

    <div>
        <input class="btn" id="selectAll" type="button" value="全选">
        <input class="btn" id="selectNone" type="button" value="全不选">
        <input class="btn" id="selectReverse" type="button" value="反选">
    </div>

    <script>
        // 用 innerHTML 追加
        document.getElementById("btn_add").onclick = function () {
            var id = document.getElementById("id").value;
            var name = document.getElementById("name").value;
            var gender = document.getElementById("gender").value;
            var table = document.getElementsByTagName("table")[0];

            table.innerHTML += "<tr>\n" +
                "            <td><input type='checkbox' name='checkbox'></td> \n" +
                "            <td> " + id + "</td>\n" +
                "            <td>" + name + "</td>\n" +
                "            <td>" + gender + "</td>\n" +
                "            <td><a href=\"javascript:void(0);\" onclick=\"delTr(this)\">删除</a></td>\n" +
                "        </tr>"
        }

        function delTr(tag) {
            var table = tag.parentNode.parentNode.parentNode;
            table.removeChild(tag.parentNode.parentNode);
        }

    </script>

</body>
</html>
